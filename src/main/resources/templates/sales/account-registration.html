<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/general.html :: head"></head>
<body>
<header th:replace="fragments/general.html::header"></header>

<div class="bootstrap-wrapper">
    <div class="container">

        <div class="page-info row">
            <div class="col-md-12">
                <span class="name">New Account</span>
            </div>
        </div>

        <form th:action="@{'/employee-portal/sales/account/new'}" th:object="${account}" method="post">

            <h4>General Info</h4>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Name</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{name}">
                        <p th:each="error : ${#fields.errors('name')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Address 1</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{addressFirst}">
                        <p th:each="error : ${#fields.errors('addressFirst')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Address 2</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{addressSecond}">
                        <p th:each="error : ${#fields.errors('addressSecond')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">City</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{city}">
                        <p th:each="error : ${#fields.errors('city')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">State</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{state}">
                        <p th:each="error : ${#fields.errors('state')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">ZIP</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{ZIP}">
                        <p th:each="error : ${#fields.errors('ZIP')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Phone</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{phone}">
                        <p th:each="error : ${#fields.errors('phone')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Fax</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{fax}">
                        <p th:each="error : ${#fields.errors('fax')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>


            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Direct Line</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{directLine}">
                        <p th:each="error : ${#fields.errors('directLine')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>


            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Contact First Name</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{contactFirstName}">
                        <p th:each="error : ${#fields.errors('contactFirstName')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Contact Last Name</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="text" th:field="*{contactLastName}">
                        <p th:each="error : ${#fields.errors('contactLastName')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>


            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Contact Email</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <input class="form-in-item" type="email" th:field="*{contactEmail}">
                        <p th:each="error : ${#fields.errors('contactEmail')}" th:text="${error}">Validation error</p>
                    </div>
                </div>
            </div>

            <input type="text" th:field="*{providers}" hidden>

            <h4>Add Provider</h4>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">
                        <button th:if="${#lists.size(account.providers) < maxProviders}"
                                type="submit" name="addProvider">Add Provider</button>
                        <button th:if="${#lists.size(account.providers) >= 1}"
                                type="submit" name="removeProvider">Remove Provider</button>
                    </p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <table>
                            <tr th:each="provider, rowStat : *{providers}">
                                <td><input type="text" th:field="*{providers[__${rowStat.index}__].firstName}" placeholder="First Name"/></td>
                                <td><input type="text" th:field="*{providers[__${rowStat.index}__].lastName}" placeholder="Second Name"/></td>
                                <td><input type="text" th:field="*{providers[__${rowStat.index}__].email}" placeholder="Second Name"/></td>
                                <td><input type="text" th:field="*{providers[__${rowStat.index}__].NPI}" placeholder="NPI"/></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>


            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Provider Portal</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <select class="form-in-item" th:field="*{providerPortal}">
                            <option th:value="1" >Yes</option>
                            <option th:value="0" >No</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="profile-edit-item row">
                <div class="col-md-4">
                    <p class="name">Paper Requisitions</p>
                </div>
                <div class="col-md-8">
                    <div class="input-wrapper">
                        <select class="form-in-item" th:field="*{paperRequisitions}">
                            <option th:value="1" >Yes</option>
                            <option th:value="0" >No</option>
                        </select>
                    </div>
                </div>
            </div>


            <h4>Specimen Pick up</h4>

            <input type="text" th:field="${account.specimenPickUpDayTimes}" hidden>

            <div th:each="specPickUpDayTime : *{specimenPickUpDayTimes}">
                <h3 th:text="${specPickUpDayTime.pickUpDayOfWeek.name}" ></h3>

<!--                <input type="text" th:field="${specPickUpDayTime}" hidden>-->

                <div class="profile-edit-item row">
                    <div class="col-md-4">
                        <p class="name">
                            <button th:if="${#lists.size(specPickUpDayTime.pickUpTimes) < maxPickUps }"
                                    type="submit" name="addPickUpTime">Add Pick Up Time</button>
                            <button th:if="${#lists.size(specPickUpDayTime.pickUpTimes) >= 1 }"
                                    type="submit" name="removePickUpTime">Remove Pick Up Time</button>
                        </p>
                    </div>
                    <div class="col-md-8">
                        <div class="input-wrapper">
                            <table>
                                <tr th:each="pickUpTime, rowStat : ${specPickUpDayTime.pickUpTimes}">
                                    <td><input type="time" th:field="${specPickUpDayTime.pickUpTimes[__${rowStat.index}__].pickUpTime}"/></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

            </div>



            <input class="btn form-submit-btn" type="submit" th:value="Submit">
        </form>
    </div>
</div>

<footer th:replace="fragments/general.html :: footer"></footer>
</body>
</html>